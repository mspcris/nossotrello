/* =======================================================================
   BASE.CSS — CONSOLIDADO (SEM DUPLICIDADES)
   Escopo: GLOBAL + HOME + BOARD (NÃO contém regras do MODAL)
   ======================================================================= */

/* ============================================================
   DENSIDADE GLOBAL
   ============================================================ */
html { font-size: 85%; } /* 16px -> ~13.6px (sua densidade) */

body{
  font-size: 1rem;
  line-height: 1.35;
}

/* Opcional (Chromium): manter 100% (ajuste fino) */
@supports (zoom: 0.8){
  body{ zoom: 0.9; }
}

/* =======================================================================
   TOKENS GERAIS (NÃO MODAL)
   ======================================================================= */
:root{
  /* Bordas / sombras */
  --border-light: rgba(255,255,255,0.25);
  --border-dark: rgba(255,255,255,0.14);
  --shadow-thumb: rgba(0,0,0,0.25);

  /* HOME boards */
  --boards-gap: 1rem;
  --boards-cols: 3;
  --board-width: 16rem;        /* 256px */
  --board-min-height: 11rem;   /* 176px */
  --board-cover-height: 5rem;  /* 80px */
}

/* HOME: modo manual (1/2/3 colunas) */
body.boards-cols-1{ --boards-cols: 1; }
body.boards-cols-2{ --boards-cols: 2; }
body.boards-cols-3{ --boards-cols: 3; }

/* =======================================================================
   BOARD — COLUNAS / CARDS (VIDRO)
   ======================================================================= */
.column-glass{
  background: rgba(255,255,255,0.25);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.35);
}

.card-glass{
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.35);
}

/* Temas translúcidos (colunas) */
.gray-column-bg{ background-color: rgba(240,240,240,0.35) !important; }
.blue-column-bg{ background-color: rgba(59,130,246,0.20) !important; }
.green-column-bg{ background-color: rgba(52,211,153,0.20) !important; }
.purple-column-bg{ background-color: rgba(168,85,247,0.20) !important; }
.amber-column-bg{ background-color: rgba(251,191,36,0.25) !important; }

/* DARK GLOBAL (html.dark) — board */
html.dark .card-glass{
  background: rgba(0,0,0,0.35) !important;
  border: 1px solid var(--border-dark) !important;
}
html.dark .column-glass{
  background: rgba(0,0,0,0.30) !important;
  border: 1px solid var(--border-dark) !important;
}
html.dark .gray-column-bg{ background-color: rgba(15,23,42,0.35) !important; }
html.dark .blue-column-bg{ background-color: rgba(59,130,246,0.18) !important; }
html.dark .green-column-bg{ background-color: rgba(52,211,153,0.16) !important; }
html.dark .purple-column-bg{ background-color: rgba(168,85,247,0.16) !important; }
html.dark .amber-column-bg{ background-color: rgba(251,191,36,0.18) !important; }

/* =======================================================================
   BOARD MEMBERS BAR
   ======================================================================= */
.board-members-bar{
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 4px;
  margin: 0;
  padding: 0;
  flex-wrap: wrap;
}

.board-member-avatar{
  width: 36px;
  height: 36px;
  border-radius: 999px;
  overflow: hidden;
  border: 2px solid rgba(255,255,255,0.6);
  background: rgba(255,255,255,0.85);
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform .15s ease, box-shadow .15s ease;
}

.board-member-avatar:hover{
  transform: scale(1.08);
  box-shadow: 0 4px 14px rgba(0,0,0,0.25);
}

.board-member-avatar img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.board-member-avatar .avatar-fallback{
  font-weight: 500;
  font-size: 14px;
  color: #111;
}

/* =======================================================================
   HEADER — GRID BASE
   ======================================================================= */
.cm-header-bar{
  grid-template-columns: 260px 1fr 260px;
}

.cm-header-center{
  min-height: 72px;
}

/* =======================================================================
   SEARCH OVERLAY
   ======================================================================= */
#board-search-overlay{ pointer-events: auto; }
#board-search-overlay.hidden{ display: none; }

/* fundo visível quando digitando (sua lógica) */
#board-search-overlay.is-typing #search-backdrop{
  opacity: 0 !important;
  pointer-events: none;
}

/* =======================================================================
   HOME — GRID (flex) e card base
   ======================================================================= */
.home-group-items,
.home-group-dropzone,
.boards-grid,
#home-favorites-items,
#home-owned-list,
#home-shared-list{
  display: flex !important;
  flex-direction: row !important;
  flex-wrap: wrap !important;
  align-items: stretch !important;
  justify-content: flex-start !important;
  gap: 12px !important;

  width: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
  box-sizing: border-box !important;
}

/* Card base (HOME) — largura controlada via variável */
.board-card{
  flex: 0 0 auto !important;
  box-sizing: border-box !important;
  width: var(--board-width, 16rem) !important;
}

/* MOBILE — lógica 1 / 2 / 3 colunas */
@media (max-width: 767px){
  body.boards-cols-1 .board-card{ width: 100% !important; max-width: 100% !important; }
  body.boards-cols-2 .board-card{ width: calc(50% - 6px) !important; }
  body.boards-cols-3 .board-card{ width: calc(33.33% - 8px) !important; }

  body:not(.boards-cols-1):not(.boards-cols-2):not(.boards-cols-3) .board-card{
    width: calc(50% - 6px) !important;
  }

  .board-card{ min-width: 0 !important; margin: 0 !important; }
  .board-card__cover{ height: 70px !important; }

  .board-card__body h2{
    font-size: 0.85rem !important;
    line-height: 1.2 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }
}

/* =======================================================================
   MOBILE — SWITCH 1 / 2 / 3 / AUTO (HOME)
   ======================================================================= */

/* regra global: switch só aparece na HOME */
body:not(.is-home) .boards-cols-switch{ display: none !important; }

/* desktop/tablet: switch nunca */
@media (min-width: 768px){
  .boards-cols-switch{ display: none !important; }
}

/* mobile base (se existir) */
@media (max-width: 767px){
  .boards-cols-switch{
    position: fixed;
    top: 10px;
    left: 10px;
    z-index: 1300;

    display: flex;
    gap: 6px;
    padding: 6px;

    background: rgba(255,255,255,0.7);
    backdrop-filter: blur(6px);
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 12px;

    box-shadow: 0 4px 14px rgba(0,0,0,0.15);
  }

  .boards-cols-switch .bcs-btn{
    min-width: 34px;
    height: 34px;
    padding: 0 8px;
    border-radius: 8px;

    font-size: 0.85rem;
    font-weight: 700;
    line-height: 1;

    border: 1px solid rgba(0,0,0,0.25);
    background: rgba(255,255,255,0.85);
    color: #111;

    cursor: pointer;
    user-select: none;

    transition: background .15s ease, color .15s ease, transform .1s ease, box-shadow .1s ease;
  }

  .boards-cols-switch .bcs-btn:hover{ background: rgba(255,255,255,1); }
  .boards-cols-switch .bcs-btn:active{ transform: scale(0.95); }

  .boards-cols-switch .bcs-btn.is-active{
    background: rgba(16,185,129,0.9);
    color: #fff;
    border-color: rgba(0,0,0,0.35);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.25);
  }
}

/* HOME no mobile: switch no header (não fixed) */
body.is-home .boards-cols-switch{
  position: static !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  margin: 0 !important;

  display: flex !important;
  gap: 6px !important;
  padding: 6px !important;
  border-radius: 14px !important;

  background: rgba(255,255,255,0.75) !important;
  border: 1px solid rgba(0,0,0,0.25) !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
}

body.is-home .boards-cols-switch .bcs-btn{
  width: 44px !important;
  height: 38px !important;
  border-radius: 12px !important;
  background: rgba(255,255,255,0.90) !important;
  border: 1px solid rgba(0,0,0,0.20) !important;
  font-weight: 600 !important;
}

body.is-home .boards-cols-switch .bcs-btn.is-active{
  background: rgba(16,185,129,0.90) !important;
  color: #fff !important;
  border-color: rgba(5,150,105,0.90) !important;
}

/* Header mobile: logo + avatar (global helper) */
.cm-header-mobile{ position: relative; }
.cm-header-mobile .cm-header-row{
  display: flex;
  align-items: center;
  gap: 10px;
}
.cm-header-mobile .cm-brand-logo{
  width: 44px !important;
  height: 44px !important;
  border-radius: 999px !important;
  object-fit: cover !important;
  display: block !important;
}
.cm-header-mobile .cm-avatar{
  width: 40px !important;
  height: 40px !important;
  border-radius: 999px !important;
  object-fit: cover !important;
  display: block !important;
}

/* =======================================================================
   CODE / PRISM (GLOBAL)
   ======================================================================= */
pre{
  background: transparent !important;
  padding: 0 !important;
  margin: 0 0 1rem 0 !important;
  border-radius: 0 !important;
  color: inherit !important;
  box-shadow: none !important;
  border: none !important;
  position: relative;

  white-space: pre-wrap !important;
  word-break: break-word !important;
}

.code-wrapper{ position: relative; }

.copy-code-btn{
  position: absolute;
  top: 8px;
  right: 8px;

  background: #444;
  color: #fff;

  padding: 4px 8px;
  border-radius: 4px;

  font-size: 11px;
  cursor: pointer;
  opacity: 0.8;
  transition: opacity .2s ease;
}
.copy-code-btn:hover{ opacity: 1; }

/* Helpers */
.home-background{
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

@media (max-width: 768px) {
  .cm-header-row{
    flex-wrap: wrap;
    row-gap: 8px;
  }

  /* garante que “blocos” possam cair pra 2ª linha sem esmagar */
  .cm-header-row > *{
    min-width: 0;
  }
}



/* =======================================================================
   FIM DO BASE.CSS
   ======================================================================= */
