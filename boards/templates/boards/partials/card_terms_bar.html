{% load tag_helpers %}

{% if card.tags %}
  <div id="cm-terms-bar" class="px-3 pb-2">
    <div class="flex flex-wrap gap-2">
      {% for term in card.tags|split_tags %}
        {% with term|tag_color as color %}
          <button
            type="button"
            class="px-2 py-1 rounded-md text-xs font-semibold border cm-term-btn"
            data-term="{{ term|escape }}"
            data-fallback-color="{{ color }}"
            style="background-color: {{ color }}20; color: {{ color }}; border-color: {{ color }};">
            {{ term }}
          </button>
        {% endwith %}
      {% endfor %}
    </div>
  </div>
{% else %}
  <div id="cm-terms-bar"></div>
{% endif %}
