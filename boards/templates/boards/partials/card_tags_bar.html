{% load tag_helpers %}

{% if card.tags %}
  <div id="cm-tags-bar" class="px-3 pb-2">
    <div class="flex flex-wrap gap-2">
      {% for tag in card.tags|split_tags %}
        {% with tag|tag_color as fallback %}
          <button type="button"
                  class="px-2 py-1 rounded-md text-xs font-semibold border"
                  data-tag="{{ tag }}"
                  style="
                    background-color: {{ fallback }}20;
                    color: {{ fallback }};
                    border-color: {{ fallback }};
                  ">
            {{ tag }}
          </button>
        {% endwith %}
      {% endfor %}
    </div>
  </div>
{% else %}
  <div id="cm-tags-bar"></div>
{% endif %}
