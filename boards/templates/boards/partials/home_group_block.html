{# boards/templates/boards/partials/home_group_block.html #}

<div class="mb-6 home-group-wrapper" id="group-{{ g.id }}">

  <div class="flex items-center justify-between mb-3 px-1">
    <h2 class="text-lg font-semibold text-white">{{ g.name }}</h2>

    <div class="flex items-center gap-4">
      <button
        type="button"
        class="text-emerald-200 hover:text-emerald-100 text-xs font-semibold transition-colors"
        onclick="
          const name = prompt('Novo nome do agrupamento:', '{{ g.name|escapejs }}');
          if (!name) return;
          htmx.ajax('POST', '{% url 'boards:home_group_rename' g.id %}', {
            values: { name: name },
            swap: 'none'
          });
        ">
        Renomear agrupamento
      </button>

      <button
        type="button"
        class="text-red-300 hover:text-red-100 text-xs font-semibold transition-colors"
        hx-post="{% url 'boards:home_group_delete' g.id %}"
        hx-confirm="Deseja apagar o grupo '{{ g.name }}'? (Os quadros não serão excluídos)"
        hx-target="#group-{{ g.id }}"
        hx-swap="outerHTML">
        Apagar agrupamento
      </button>
    </div>
  </div>

  <div class="home-group-items home-group-dropzone w-full" data-group-id="{{ g.id }}">
    {% for it in items %}
      {% include "boards/partials/home_board_card.html" with board=it.board favorite_board_ids=favorite_board_ids subtitle="" show_delete_button=False is_shared=False group_id=g.id %}
    {% endfor %}
  </div>

</div>
